!function(e){"use strict";function r(e){localStorage.hyResources=JSON.stringify([])}function a(e){function r(){return JSON.parse(localStorage.hyResources)}function a(e,a,s){var t=r(),n=o;s&&(n=s),n.name=e,n.resource=a,t.push(n),localStorage.hyResources=JSON.stringify(t)}function s(e){var a=r(),s=n(e);s>-1&&a.splice(s,1),localStorage.hyResources=JSON.stringify(a)}function t(e){for(var a=r(),s=0;s<a.length;s++)if(a[s].name==e)return a[s]}function n(e){for(var a=r(),s=0;s<a.length;s++)if(a[s].name==e)return s}function d(r){var a=t(r),s=e(a.resource+"/:id",{id:"@id"},{get:{method:a.GetParams.Method,headers:a.GetParams.headers,isArray:!1},query:{method:a.GetParams.Method,headers:a.GetParams.headers,isArray:a.GetParams.IsArray},save:{method:a.AddParams.Method,headers:a.AddParams.headers,isArray:a.AddParams.IsArray},update:{method:a.UpdateParams.Method,headers:a.UpdateParams.headers,isArray:a.UpdateParams.IsArray},delete:{method:a.DeleteParams.Method,headers:a.DeleteParams.headers,isArray:a.DeleteParams.IsArray}});return s}var o={GetParams:{headers:{"Content-Type":"application/json"},Method:"GET",IsArray:!0},AddParams:{headers:{"Content-Type":"application/json"},Method:"POST",IsArray:!1},UpdateParams:{headers:{"Content-Type":"application/json"},Method:"PUT",IsArray:!1},DeleteParams:{headers:{"Content-Type":"application/json"},Method:"DELETE",IsArray:!1}};this.addResource=function(e,r,s){a(e,r,s)},this.get=function(e,r){var a=d(e);return r?a.get({id:r}).$promise:a.query().$promise},this.add=function(e,r){var a=d(e),s=new a(r);return s.$save()},this.update=function(e,r){var a=d(e),s=new a(r);return s.$update()},this.delete=function(e,r){var a=d(e),s=new a(r);return s.$remove()},this.configResource=function(e){var r=t(e),n={};return n.method=function(e){var t={};return t.isArray=function(t){s(r.name),"get"==e&&(r.GetParams.IsArray=t),"add"==e&&(r.AddParams.IsArray=t),"update"==e&&(r.UpdateParams.IsArray=t),"delete"==e&&(r.DeleteParams.IsArray=t),a(r.name,r.resource,r)},t.addHeader=function(t,n){s(r.name),"get"==e&&(r.GetParams.headers[t]=n),"add"==e&&(r.AddParams.headers[t]=n),"update"==e&&(r.UpdateParams.headers[t]=n),"delete"==e&&(r.DeleteParams.headers[t]=n),a(r.name,r.resource,r)},t},n}}r.$inject=["hyResources"],e.module("hyResources",["ngResource"]).run(r),a.$inject=["$resource"],e.module("hyResources").service("hyResources",a)}(angular);