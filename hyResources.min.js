!function(e){"use strict";function r(e){localStorage.hyResources=JSON.stringify([])}function a(e){function r(){return JSON.parse(localStorage.hyResources)}function a(e,a,t){var s=r(),d=o;t&&(d=t),d.name=e,d.resource=a,s.push(d),localStorage.hyResources=JSON.stringify(s)}function t(e){var a=r(),t=d(e);t>-1&&a.splice(t,1),localStorage.hyResources=JSON.stringify(a)}function s(e){for(var a=r(),t=0;t<a.length;t++)if(a[t].name==e)return a[t]}function d(e){for(var a=r(),t=0;t<a.length;t++)if(a[t].name==e)return t}function n(r){var a=s(r),t=e(a.resource+"/:id",{id:"@id"},{get:{method:a.GetParams.Method,headers:a.GetParams.headers,isArray:!1},query:{method:a.GetParams.Method,headers:a.GetParams.headers,isArray:a.GetParams.IsArray},save:{method:a.AddParams.Method,headers:a.AddParams.headers,isArray:a.AddParams.IsArray},update:{method:a.UpdateParams.Method,headers:a.UpdateParams.headers,isArray:a.UpdateParams.IsArray},delete:{method:a.DeleteParams.Method,headers:a.DeleteParams.headers,isArray:a.DeleteParams.IsArray}});return t}var o={GetParams:{headers:{"Content-Type":"application/json"},Method:"GET",IsArray:!0},AddParams:{headers:{"Content-Type":"application/json"},Method:"POST",IsArray:!1},UpdateParams:{headers:{"Content-Type":"application/json"},Method:"PUT",IsArray:!1},DeleteParams:{headers:{"Content-Type":"application/json"},Method:"DELETE",IsArray:!1}};this.addResource=function(e,r,t){a(e,r,t)},this.get=function(e,r){var a=n(e);return r?a.get({id:r}).$promise:a.query().$promise},this.add=function(e,r){var a=n(e),t=new a(r);return t.$save()},this.update=function(e,r){var a=n(e),t=new a(r);return t.$update()},this.delete=function(e,r){var a=n(e),t=new a(r);return t.$remove()},this.configResource=function(e){var r=s(e),d={};return d.method=function(e){var s={};return s.isArray=function(s){t(r.name),"get"==e&&(r.GetParams.IsArray=s),"add"==e&&(r.AddParams.IsArray=s),"update"==e&&(r.UpdateParams.IsArray=s),"delete"==e&&(r.DeleteParams.IsArray=s),a(r.name,r.resource,r)},s.addHeader=function(s,d){t(r.name),"get"==e&&(r.GetParams.headers[s]=d),"add"==e&&(r.AddParams.headers[s]=d),"update"==e&&(r.UpdateParams.headers[s]=d),"delete"==e&&(r.DeleteParams.headers[s]=d),a(r.name,r.resource,r)},s.removeHeader=function(s){t(r.name),"get"==e&&delete r.GetParams.headers[s],"add"==e&&delete r.AddParams.headers[s],"update"==e&&delete r.UpdateParams.headers[s],"delete"==e&&delete r.DeleteParams.headers[s],a(r.name,r.resource,r)},s},d}}r.$inject=["hyResources"],e.module("hyResources",["ngResource"]).run(r),a.$inject=["$resource"],e.module("hyResources").service("hyResources",a)}(angular);