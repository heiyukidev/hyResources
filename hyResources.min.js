!function(e){"use strict";function r(e){localStorage.hyResources=JSON.stringify([])}function a(e){function r(){return JSON.parse(localStorage.hyResources)}function a(e,a,t){var n=r(),s=d;t&&(s=t),s.name=e,s.resource=a,n.push(s),localStorage.hyResources=JSON.stringify(n)}function t(e){var a=r(),t=s(e);t>-1&&a.splice(t,1),localStorage.hyResources=JSON.stringify(a)}function n(e){for(var a=r(),t=0;t<a.length;t++)if(a[t].name==e)return a[t]}function s(e){for(var a=r(),t=0;t<a.length;t++)if(a[t].name==e)return t}function o(r){var a=n(r),t=e(a.resource+"/:id",{id:"@id"},{get:{method:a.GetParams.Method,headers:{"Content-Type":a.GetParams.HeaderContentType},isArray:!1},query:{method:a.GetParams.Method,headers:{"Content-Type":a.GetParams.HeaderContentType},isArray:a.GetParams.IsArray},save:{method:a.AddParams.Method,headers:{"Content-Type":a.AddParams.HeaderContentType},isArray:a.AddParams.IsArray},update:{method:a.UpdateParams.Method,headers:{"Content-Type":a.UpdateParams.HeaderContentType},isArray:a.UpdateParams.IsArray},delete:{method:a.DeleteParams.Method,headers:{"Content-Type":a.DeleteParams.HeaderContentType},isArray:a.DeleteParams.IsArray}});return t}var d={GetParams:{HeaderContentType:"application/json",Method:"GET",IsArray:!0},AddParams:{HeaderContentType:"application/json",Method:"POST",IsArray:!1},UpdateParams:{HeaderContentType:"application/json",Method:"PUT",IsArray:!1},DeleteParams:{HeaderContentType:"application/json",Method:"DELETE",IsArray:!1}};this.addResource=function(e,r,t){a(e,r,t)},this.get=function(e,r){var a=o(e);return r?a.get({id:r}).$promise:a.query().$promise},this.add=function(e,r){var a=o(e),t=new a(r);return t.$save()},this.update=function(e,r){var a=o(e),t=new a(r);return t.$update()},this.delete=function(e,r){var a=o(e),t=new a(r);return t.$remove()},this.configResource=function(e){var r=n(e),s={};return s.method=function(e){var n={};return n.isArray=function(n){t(r.name),"get"==e&&(r.GetParams.IsArray=n),"add"==e&&(r.AddParams.IsArray=n),"update"==e&&(r.UpdateParams.IsArray=n),"delete"==e&&(r.DeleteParams.IsArray=n),a(r.name,r.resource,r)},n.ContentType=function(n){t(r.name),"get"==e&&(r.GetParams.HeaderContentType=n),"add"==e&&(r.AddParams.HeaderContentType=n),"update"==e&&(r.UpdateParams.HeaderContentType=n),"delete"==e&&(r.DeleteParams.HeaderContentType=n),a(r.name,r.resource,r)},n},s}}r.$inject=["hyResources"],e.module("hyResources",["ngResource"]).run(r),a.$inject=["$resource"],e.module("hyResources").service("hyResources",a)}(angular);