!function(e){"use strict";function a(e){localStorage.hyResources=JSON.stringify([])}function r(e){function a(){return JSON.parse(localStorage.hyResources)}function r(e,r,t){var s=a(),d=o;t&&(d=t),d.name=e,d.resource=r,s.push(d),localStorage.hyResources=JSON.stringify(s)}function t(e){var r=a(),t=d(e);t>-1&&r.splice(t,1),localStorage.hyResources=JSON.stringify(r)}function s(e){for(var r=a(),t=0;t<r.length;t++)if(r[t].name==e)return r[t]}function d(e){for(var r=a(),t=0;t<r.length;t++)if(r[t].name==e)return t}function n(a){var r=s(a),t=e(r.resource+"/:id",{id:"@id"},{get:{method:r.GetParams.Method,headers:r.GetParams.headers,isArray:!1},query:{method:r.GetParams.Method,headers:r.GetParams.headers,isArray:r.GetParams.IsArray},save:{method:r.AddParams.Method,headers:r.AddParams.headers,isArray:r.AddParams.IsArray},update:{method:r.UpdateParams.Method,headers:r.UpdateParams.headers,isArray:r.UpdateParams.IsArray},delete:{method:r.DeleteParams.Method,headers:r.DeleteParams.headers,isArray:r.DeleteParams.IsArray}});return t}var o={GetParams:{headers:{"Content-Type":"application/json"},Method:"GET",IsArray:!0},AddParams:{headers:{"Content-Type":"application/json"},Method:"POST",IsArray:!1},UpdateParams:{headers:{"Content-Type":"application/json"},Method:"PUT",IsArray:!1},DeleteParams:{headers:{"Content-Type":"application/json"},Method:"DELETE",IsArray:!1}};this.addResource=function(e,a,t){r(e,a,t)},this.get=function(e,a){var r=n(e);return a?r.get({id:a}).$promise:r.query().$promise},this.add=function(e,a){var r=n(e),t=new r(a);return t.$save()},this.update=function(e,a){var r=n(e),t=new r(a);return t.$update()},this.delete=function(e,a){var r=n(e),t=new r(a);return t.$remove()},this.configResource=function(e){var a=s(e),d={};return d.method=function(e){var s={};return s.isArray=function(s){t(a.name),"get"==e&&(a.GetParams.IsArray=s),"add"==e&&(a.AddParams.IsArray=s),"update"==e&&(a.UpdateParams.IsArray=s),"delete"==e&&(a.DeleteParams.IsArray=s),r(a.name,a.resource,a)},s.addHeader=function(s,d){t(a.name),"get"==e&&(a.GetParams.headers[s]=d),"add"==e&&(a.AddParams.headers[s]=d),"update"==e&&(a.UpdateParams.headers[s]=d),"delete"==e&&(a.DeleteParams.headers[s]=d),r(a.name,a.resource,a)},s.removeHeader=function(s){t(a.name),"get"==e&&delete a.GetParams.headers[s],"add"==e&&delete a.AddParams.headers[s],"update"==e&&delete a.UpdateParams.headers[s],"delete"==e&&delete a.DeleteParams.headers[s],r(a.name,a.resource,a)},s},d.changeUrl=function(e){t(a.name),r(a.name,e,a)},d}}a.$inject=["hyResources"],e.module("hyResources",["ngResource"]).run(a),r.$inject=["$resource"],e.module("hyResources").service("hyResources",r)}(angular);